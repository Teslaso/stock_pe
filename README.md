# 🐔 大鸡腿股票估值系统

一个基于FastAPI和Tushare Pro的A股股票分析工具，专注于股价、市盈率(PE)和净资产收益率(ROE)的综合分析与可视化。

## ✨ 功能特点

- 📊 **三维数据分析**: 同时展示股价、PE_TTM和ROE三个核心估值指标
- 🎯 **交互式图表**: 基于Plotly.js的专业级交互式可视化
- 🔍 **智能股票搜索**: 支持按代码或公司名称快速搜索
- 📈 **前复权数据**: 使用Tushare Pro提供的前复权价格数据
- 💻 **现代化界面**: 响应式设计，支持桌面和移动端
- ⚡ **高性能API**: FastAPI异步框架，提供快速的数据响应
- 🛡️ **数据验证**: 完善的输入验证和错误处理机制

## 🚀 快速开始

### 环境要求

- Python 3.8+
- 现代浏览器（Chrome、Firefox、Safari、Edge）

### 安装步骤

1. **克隆项目**
```bash
git clone <项目地址>
cd 大鸡腿交易系统
```

2. **安装依赖**
```bash
pip install -r requirements.txt
```

3. **启动服务**
```bash
python app.py
```

4. **访问应用**
- 打开浏览器访问: http://localhost:8000
- API文档: http://localhost:8000/docs

## 📖 使用说明

### 基本操作

1. **输入股票代码**: 在股票代码框中输入6位A股代码（如：000001）
2. **选择时间范围**: 
   - 使用快速选择：近1个月、3个月、6个月、1年、2年、3年
   - 或自定义开始和结束日期
3. **生成图表**: 点击"生成分析图表"按钮
4. **交互操作**: 
   - 鼠标滚轮：缩放图表
   - 鼠标拖拽：平移图表
   - 悬停：查看具体数值

### 图表说明

- **左轴（蓝色线）**: 股票收盘价格
- **右轴（紫色线）**: 动态市盈率
- **X轴**: 交易日期
- **悬停提示**: 显示具体日期、价格和市盈率数值

### 常用股票代码示例

| 股票名称 | 代码 | 类型 |
|---------|------|------|
| 平安银行 | 000001 | 银行 |
| 万科A | 000002 | 地产 |
| 中国平安 | 601318 | 保险 |
| 贵州茅台 | 600519 | 白酒 |
| 招商银行 | 600036 | 银行 |
| 五粮液 | 000858 | 白酒 |

## 🛠️ 技术架构

### 前端技术
- **HTML5 + CSS3**: 响应式页面布局
- **JavaScript ES6+**: 交互逻辑处理
- **Plotly.js**: 交互式图表库

### 后端技术
- **FastAPI**: 高性能Web框架
- **tushare**: 专业金融数据获取库
- **pandas**: 数据处理和分析
- **uvicorn**: ASGI服务器

### 数据源
- **Tushare Pro**: 专业级金融数据接口，提供高质量的TTM市盈率数据
- 支持A股历史价格数据
- 支持股票基本面数据（市盈率等）

## 📊 API接口

### 获取股票数据
```http
POST /api/stock_data
Content-Type: application/json

{
    "stock_code": "000001",
    "start_date": "2023-01-01",
    "end_date": "2024-01-01"
}
```

### 搜索股票
```http
GET /api/stock_search/{keyword}
```

### 健康检查
```http
GET /api/health
```

## 🔧 配置说明

### 服务器配置
- 默认端口: 8000
- 主机地址: 0.0.0.0（允许外部访问）
- 自动重载: 开发模式下启用

### 数据配置
- 股价数据: 前复权价格
- 更新频率: 实时获取
- 历史数据: 支持多年历史数据

## ⚠️ 注意事项

1. **网络要求**: 需要稳定的网络连接以获取实时数据
2. **Token配置**: 需要配置Tushare Pro token才能获取数据
3. **使用限制**: 请合理使用，避免频繁请求
4. **免责声明**: 本工具仅供学习和研究使用，不构成投资建议

## 🐛 故障排除

### 常见问题

1. **股票代码错误**
   - 确保输入6位数字代码
   - 检查股票是否为A股市场

2. **数据获取失败**
   - 检查网络连接
   - 确认股票代码有效
   - 检查日期范围是否合理

3. **图表不显示**
   - 检查浏览器控制台错误信息
   - 确认JavaScript已启用
   - 尝试刷新页面

### 日志查看
```bash
# 查看服务器日志
python app.py
```

## 📝 更新日志

### v1.0.0 (2024-01-15)
- ✅ 基础功能实现
- ✅ 股价与市盈率双轴图表
- ✅ 交互式图表操作
- ✅ 响应式设计
- ✅ Tushare Pro数据集成
- ✅ TTM市盈率数据支持
- ✅ 专业级数据质量

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进项目！

## 📄 许可证

本项目采用MIT许可证，详见LICENSE文件。

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 提交Issue
- 发送邮件

---

**免责声明**: 本工具仅供学习和研究使用，所提供的数据和分析结果不构成任何投资建议。投资有风险，入市需谨慎。